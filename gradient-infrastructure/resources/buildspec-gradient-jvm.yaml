version: 0.2

phases:
  install:
    runtime-versions:
      java: corretto11
  build:
    commands:
      - ./gradlew --no-daemon build

reports:
  test-gradient-service-code:
    files:
      - "*.xml"
    base-directory: "gradient-service-code/build/test-results/test/"
    file-format: JUNITXML
  test-gradient-service-monitoring:
    files:
      - "*.xml"
    base-directory: "gradient-service-monitoring/build/reports/tests/test"
    file-format: JUNITXML
cache:
  paths:
    - "/root/.m2/**/*"